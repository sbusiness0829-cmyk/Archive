

#  개요
* 유저의 취향에 맞는 영상을  AI를 통해 생성하여 Play할 수 있는 Wep  서비스
# 핵심 요약 (PPT 1장 분량)

- 생성 흐름: 클라이언트 POST /api/generate → 서버 큐에 적재 → AI 생성 완료 시 WebSocket으로 알림(generation_completed)
- 스트리밍: /api/stream/{id} → HLS/DASH 재생, 네트워크 3회 재시도, 초기 재생 <2s 목표
- 외부변수: IoT/API로 시간대·계절·장소·습도·날씨 수신 → 플레이어가 즉시 해당 클립으로 전환(페이드 300ms)
- 주요 화면: 홈(카탈로그) / 상세(모달) / 재생(플레이어 + 정보패널) / 생성(폼 + 큐 모니터) / 라이브러리
- 테스트 UI: 재생 화면에서 외부변수 수동 변경(개발용 토글, 로컬 세션에만 적용)
- 실시간 연동: WebSocket 이벤트(generation_started/progress/completed/failed, external_vars_update) 구현 필수
## 우선 개발 항목 — 한눈에 보기 (PPT 1장 분량)

- 생성
  - API: POST /api/generate → 큐에 적재(응답: jobId, 예상대기시간)
  - WS 이벤트: generation_started / progress / completed / failed
  - UI: 생성 폼(수동), 자동생성 트리거(예약·외부변수 기반)
  - 백엔드: 큐(우선순위), 작업 상태 저장(video metadata, 외부변수 태그), 재시도 정책

- 테스트
  - Player 테스트 UI: 외부변수(시간대/계절/장소/습도/날씨) 임의 변경(로컬 세션 한정)
  - 서버 테스트 API: POST /api/test-external-vars (세션/단건 오버라이드)
  - 동작: 서버는 생성/응답 시 테스트값 우선 적용 → 변수 매핑 후 클립 선택
  - 로깅: 테스트 오버라이드 추적(개발용), 실패 시 롤백

- 재생
  - 스트리밍: GET /api/stream/{id} → HLS/DASH (네트워크 3회 재시도, 초기재생 목표 <2s)
  - 클립 자동선택 규칙: 외부변수 매칭 우선 → 추천 알고리즘(유사성/인기도/최근) → 기본 폴백
  - 정렬 규칙: 추천순 / 최신 / 인기 / 사용자별 맞춤
  - 플레이어 UX: 외부변수 업데이트 시 300ms 페이드로 즉시 클립 전환, 접근성·에러 핸들링
  - 모니터링: 버퍼/재생 실패·대기시간·로그 수집

우선순위: 큐 상태·예상대기시간 표시 → HLS/DASH 안정화 → 외부변수 사전 로드 및 테스트 UI
# 외부 변수 시스템
* 외부 변수는 영상 생성 시 유저가 직접 설정하는 값이 아니다
* 영상 Play 시 현재의 외부 정보를 자동으로 IOT 장비나 외부 API를 통해서 실시간으로 제공받는다
* 제공받은 외부 변수에 해당하는 영상 클립을 자동으로 선택하여 재생한다
* 테스트 과정에서는 Play 화면에서 외부 변수를 임의로 변경할 수 있는 테스트 UI가 제공된다
* 예시:
  * 비주얼아트: 현재 시간대(아침/낮/저녁/밤)와 계절 정보를 자동 감지
  * 애완동물: IoT 센서로 실내/실외 위치 감지
  * 날씨: 기상 API로 현재 날씨와 시간대 자동 획득
  * 식물키우기: 습도 센서로 현재 습도 상태 측정 

# 유저 상세
* 유저의 구분은 기기의 Mac Address를 이용하여 구분한다
* 유저는 자신만의 영상을 생성할 수 있다.
* 유저는 다른 유저가 기존에 만든 영상을 리스트 형태로 확인할 수 있다..
* 유저가 자신이 기존에 만든 영상을 리스트 형태로 확인할 수 있다
* 유저는 자신이 만들거나, 다른 유저가 만든 영상을 선택하여 Play할 수 있다.

# 콘텐츠 주제
* 총 10의 콘텐츠 주제를 제공한다.
* 콘텐츠 주제
	1. 명상
		 * 휴식을 취하면서 감상할 수 있는 힐링 콘텐츠
	2. 비쥬얼아트
		* 운동, 공부 등 특정 테마에 맞추어 생성된 음악과 영상이 서로 어우러지는 콘텐츠
	3. 애완동물
		* 동물을 위한 콘텐츠
	4. 시계
		* 선택한 숫자 폰트와 테마 및 분위기를 조합하여 시계를 시각화한 콘텐츠
	5. 아바타
		* 인물 단독 사진을 기반으로 생성한 캐릭터의 다양한 행동을 감상할 수 있는 콘텐츠
	6. 인테리어
		* 친숙한 실내를 색다른 모습으로 변경하여 감상할 수 있는 콘텐츠
	7. 기념앨범
		* 인물 단체 사진을 기반으로 기념물을 남기는 콘텐츠
	8. 음악감상
		* 사운드 파일 내장 정보를 기반으로 나만의 뮤직 비디오를 만드는 콘텐츠
	9. 날씨
		* 현재 날씨와 계절 등 기상 정보를 시각화한 콘텐츠
	10. 식물키우기
		* 습도(건조, 적절, 습윤)에 따라 꽃의 상태가 다르고 이를 유저가 관리할 수 있는 콘텐츠
### 명상
* 개요 : 휴식을 취하면서 감상할 수 있는 힐링 콘텐츠
* 
### 비쥬얼 아트
* 개요 : 운동, 공부 등 특정 테마에 맞추어 생성된 음악과 영상이 서로 어우러지는 콘텐츠
* 테마 : 운동, 공부, 요가, 산책, 여행, 독서, 드라이브
* 외부 변수 : 시간대(아침, 낮, 저녁, 밤), 계절(봄, 여름, 가을, 겨울)
  * 시간대: 시스템 시간 또는 IoT 조도 센서를 통해 자동 감지
  * 계절: 현재 날짜 기반 자동 판단 또는 기상 API 연동
* 테마별 생성 영상 클립 수 : 시간대(4) x 계절(4) = 16개
* 영상 재생 방식: Play 시 현재 시간대와 계절에 해당하는 클립 자동 선택
* 테스트 UI: Play 화면에서 시간대/계절 임의 변경 가능한 드롭다운 제공
* 특이 사항
  * 운동 : 에너지 넘치고 활기찬 분위기
  * 공부 : 집중력 향상에 도움되는 차분한 분위기
  * 요가 : 마음을 안정시키고 이완시키는 편안한 분위기
  * 산책 : 자연과 함께하는 상쾌하고 평화로운 분위기
  * 여행 : 새로운 장소와 문화 탐험의 설레는 분위기
  * 독서 : 조용하고 아늑한 분위기, 책 읽기에 적합한 환경
  * 드라이브 : 자유롭고 개방된 느낌, 도로 위를 달리는 기분
### 애완동물
* 개요 : 동물을 위한 콘텐츠
* 테마 : 강아지, 고양이, 토끼, 햄스터
* 외부 변수 : 장소(실내, 실외)
  * 장소: GPS 위치 정보 또는 IoT 센서를 통해 실내/실외 자동 감지
* 테마별 생성 영상 클립 수 : 장소(2) = 2개
* 영상 재생 방식: Play 시 현재 위치(실내/실외)에 해당하는 클립 자동 선택
* 테스트 UI: Play 화면에서 실내/실외 임의 변경 가능한 토글 버튼 제공
* 특이 사항
  * 강아지 : 활발하고 귀여운 행동
  * 고양이 : 우아하고 신비로운 행동
  * 토끼 : 귀엽고 사랑스러운 행동
  * 햄스터 : 작고 앙증맞은 행동
### 시계
* 개요 : 선택한 숫자 폰트와 테마 및 분위기를 조합하여 시계를 시각화한 콘텐츠
* 테마 : 자연, 도시, 우주, 미니멀, 빈티지
* 외부 변수 : 없음
* 테마별 생성 영상 클립 수 : 1개
* 특이 사항
  * 숫자 폰트는 5가지 중 선택 가능
### 아바타
* 개요 : 인물 단독 사진을 기반으로 생성한 캐릭터의 다양한 행동을 감상할 수 있는 콘텐츠
* 테마 : 운동, 공부, 산책
* 사용자 입력 데이터
  * 유저의 단독 사진 1장 : PC에 저장된 사진 (영상 생성 시에만 필요)
  * 생성된 영상의 유저 아바타는 실사가 아닌 캐릭터화(애니메이션, 3D 등)하여 생성
* 외부 변수 : 없음 (정적 영상)
* 테마별 생성 영상 클립 수 : 1개
### 인테리어
* 개요 : 친숙한 실내를 색다른 모습으로 변경하여 감상할 수 있는 콘텐츠
* 테마 : 미니멀, 모던, 럭셔리, 빈티지, 내추럴
* 외부 변수 : 없음
### 기념앨범
* 개요 : 인물 단체 사진을 기반으로 기념물을 남기는 콘텐츠
* 테마 : 졸업, 결혼, 여행 등
* 사용자 입력 데이터
  * 유저의 단체 사진 1장 : PC에 저장된 사진 (영상 생성 시에만 필요)
* 외부 변수 : 없음 (정적 영상)
* 테마별 생성 영상 클립 수 : 1개
* 특이 사항
  * 영상은 사진 데이타를 기반으로 이미지를 생성하고, 타임랩스처럼 하루를 시간이 빠르게 흘러가는 영상으로 생성
### 음악감상
* 개요 : 사운드 파일 내장 정보를 기반으로 나만의 뮤직 비디오를 만드는 콘텐츠
* 테마 : 장르(팝, 록, 재즈), 분위기(신나는, 차분한)
* 사용자 입력 데이터
  * 유저의 음악 파일 1개 : PC에 저장된 음악 파일(mp3) (영상 생성 시에만 필요)
* 외부 변수 : 없음 (정적 영상)
* 테마별 생성 영상 클립 수 : 장르(3) x 분위기(2) = 6개
* 특이 사항
  * mp3의 ID3 태그 정보를 기반으로 장르와 분위기를 파악하여 영상 생성
### 날씨
* 개요 : 현재 날씨와 계절 등 기상 정보를 시각화한 콘텐츠
* 테마 : 도시, 해변, 산, 호수
* 외부 변수
  * 기상 정보 API : 현재 날씨(맑음, 흐림, 비, 눈), 시간대(낮, 밤)
  * 기상 정보 API는 오픈 API를 자동으로 연동하여 실시간 정보 제공
  * 사용자 위치 기반 또는 설정된 지역의 날씨 정보 획득
* 테마별 생성 영상 클립 수 : 날씨(4) x 시간대(2) = 8개
* 영상 재생 방식: Play 시 현재 날씨와 시간대에 해당하는 클립 자동 선택
* 테스트 UI: Play 화면에서 날씨 상태(맑음/흐림/비/눈)와 시간대(낮/밤) 임의 변경 가능한 드롭다운 제공
* 특이 사항
  * 날씨 및 시간대 변경 시 상황에 맞추어 영상 자동 변경
### 식물키우기
* 개요 : 습도(건조, 적절, 습윤)에 따라 꽃의 상태가 다르고 이를 유저가 관리할 수 있는 콘텐츠
* 테마 : 다양한 꽃과 식물
* 외부 변수 : 습도(건조, 적절, 습윤)
  * 습도: IoT 습도 센서를 통해 실시간 습도 정보 제공
  * 센서 연결이 없는 경우 기본값(적절) 사용
* 테마별 생성 영상 클립 수 : 습도(3) = 3개
* 영상 재생 방식: Play 시 현재 습도 상태에 해당하는 클립 자동 선택
* 테스트 UI: Play 화면에서 습도 상태(건조/적절/습윤) 임의 변경 가능한 슬라이더 또는 버튼 제공
* 특이 사항
  * 습도 변화에 따라 식물 상태가 실시간으로 변경되는 인터랙티브 콘텐츠
